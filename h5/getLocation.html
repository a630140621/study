<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
	<link rel="stylesheet" href="">
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=L78DzdfnXjmPxliZ5VbbRQc5TPCGhtIN"></script>
</head>
<body>
	<p id="demo">点击按钮获取当前坐标（可能需要较长时间）:</p>
	<button type="button" onclick="getLocation()">点我获取</button>

	<script>
		var x = document.getElementById("demo");
		function getLocation()
		{
			if(navigator.geolocation)
			{
				navigator.geolocation.getCurrentPosition(showPosition,showError);
			}
			else
			{
				x.innerHTML = "该浏览器不支持获取Location"
			}
		}

		//显示坐标
		function showPosition(position)
		{
			x.innerHTML = "维度：" + position.coords.latitude + 
			"<br />经度：" + position.coords.longitude;
		}

		//错误处理
		function showError(error)
		{
		    switch(error.code) 
		    {
		        case error.PERMISSION_DENIED:
		            x.innerHTML="用户拒绝对获取地理位置的请求。"
		            break;
		        case error.POSITION_UNAVAILABLE:
		            x.innerHTML="位置信息是不可用的。"
		            break;
		        case error.TIMEOUT:
		            x.innerHTML="请求用户地理位置超时。"
		            break;
		        case error.UNKNOWN_ERROR:
		            x.innerHTML="未知错误。"
		            break;
		    }
		}
	</script>
</body>
</html>